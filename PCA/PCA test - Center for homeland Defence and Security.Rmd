---
title: "PCA test Center for Homeland Defense and Security"
author: Andrew Turner (https://github.com/snazzyandy)
output: html_document
---
```{r setup, echo=FALSE, warning=FALSE, message = FALSE}
devtools::install_github("hadley/emo")

```



## Description of data: What are we looking at?
Today a friend of mine sent me an interesting website showing the distribution of School Shootings that have occurred at K-12 Facilities between 1970 and 2021. 

Its a lot of data and it paints a pretty rough picture of the United States. 

![Source: Center for Homeland Defense and Security (https://www.chds.us/ssdb/data-map/)](https://raw.githubusercontent.com/snazzyandy/tidy_tuesday/main/PCA/K-12%20Shooting%20Database%20Screenshot.png)

So we got discussing that given the mountain of events what tends to be the most impactful factor in the size of casualties and the interplay between the individual factors.

My initial hypothesis is that age and access to weaponry will be the most impactful factor in predicting casualties. The implication of which being that gun control is an important factor in reducing casualties. I preface this analysis by saying that this is a charged and multifaceted issue so I by no means want to claim causality - lets leave that one to the academics and the incredibly impartial lobbying groups  `r emo::ji("wink")`


```{r dataload, include=FALSE}
#Read the raw data i've pulled from the site 
shooter <- readr::read_csv('https://raw.githubusercontent.com/snazzyandy/tidy_tuesday/main/PCA/Shooter%20Table.csv')
incident <- readr::read_csv('https://raw.githubusercontent.com/snazzyandy/tidy_tuesday/main/PCA/Incident%20Table.csv')
victim  <- readr::read_csv('https://raw.githubusercontent.com/snazzyandy/tidy_tuesday/main/PCA/Victim%20Table.csv')
weapon  <- readr::read_csv('https://raw.githubusercontent.com/snazzyandy/tidy_tuesday/main/PCA/Weapon%20Table.csv')

```

## Lets Look at the data

The schema for this data is based off 4 tables:

1. shooter: Incident ID number and details about the shooter. Multiple rows have the same incident ID number if there were multiple shooters.
2. incident: Incident ID number and the details of what, where, and when the shooting happened.
3. victim: Incident ID number and details about the victim. Multiple rows have the same incident ID number if there were multiple victims.
4. weapon: Incident ID number and details about the weapon used (including weapons that were possessed by the shooter during the incident but were not fired). Multiple rows have the same incident ID number if there were multiple weapons used.

```{r data structure}
head(shooter)

head(incident)

head(victim)

head(weapon)
```

